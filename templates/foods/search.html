{% extends 'base_left.html' %}

{% block right_column %}

<!-- RIGHT COLUMN -->

<div class="heading m-3">
  <h1>Your Results for <span class="text-primary">{{ search_term }}</span></h1>
  <h3>Results for item {{ page_number * 20 + 1 }} 
    to {{ (page_number + 1) * 20 }}</h3>
</div>

{# TOP NAVIGATION BUTTONS #}
<div class="result-pages-navigation d-flex justify-content-around mb-3">

  {# PREVIOUS BUTTON #}
  {% if page_number == 0 %}
    <span class="disabled mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number - 1 }}">
        <i class="fas fa-ban fa-lg"></i>
      </a>
    </span>  
  {% else %}
    <span class="mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number - 1 }}">
        <i class="fas fa-step-backward fa-lg"></i>
      </a>
    </span>  
  {% endif %}

  {#
  <!-- NUMBERED NAVIGATION IS HIDDEN FOR NOW -->
  {% for page in pages %}
    <span class="hidden"><a 
      class="
        {% if page == page_number + 1 %}
          font-weight-bold
        {% endif  %}
        mx-3
      "
      href="/food/search/{{ search_term }}/{{ page - 1 }}">{{ page }}</a></span>
  {% endfor %}
  #}
  
  {# NEXT BUTTON #}
  {% if last_page %}
    <span class="disabled mx-3">
      <a href="#"><i class="fas fa-ban fa-lg"></i></a>
    </span>  
  {% else %}
    <span class="mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number + 1 }}">
        <i class="fas fa-step-forward fa-lg"></i>
      </a>
    </span>  
  {% endif %}

</div>

{# FOOD RESULTS #}
<ol start={{ page_number * 20 + 1 }}>
  {% for food in food_list %}

    <li>
      <a href="/food/add/{{ food['food_id'] }}">
        {{ food['food_name'] }}, 
        
        <!-- BRAND OR GENERIC -->
        {% if food['food_type'].lower() == "brand" %}
          {{ food['brand_name'] }}
        {% else %}
          {{ food['food_type'] }}
        {% endif %}
        
      </a>
      <p class="text-info">({{ food['food_description'] }})</p>
    </li> 

  {% endfor %}
</ol>


{# BOTTOM NAVIGATION BUTTONS #}
<div class="result-pages-navigation d-flex justify-content-around mb-3">

  {# PREVIOUS BUTTON #}
  {% if page_number == 0 %}
    <span class="disabled mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number - 1 }}">
        <i class="fas fa-ban fa-lg"></i>
      </a>
    </span>  
  {% else %}
    <span class="mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number - 1 }}">
        <i class="fas fa-step-backward fa-lg"></i>
      </a>
    </span>  
  {% endif %}

  {#
  <!-- NUMBERED NAVIGATION IS HIDDEN FOR NOW -->
  {% for page in pages %}
    <span class="hidden"><a 
      class="
        {% if page == page_number + 1 %}
          font-weight-bold
        {% endif  %}
        mx-3
      "
      href="/food/search/{{ search_term }}/{{ page - 1 }}">{{ page }}</a></span>
  {% endfor %}
  #}
  
  {# NEXT BUTTON #}
  {% if last_page %}
    <span class="disabled mx-3">
      <a href="#"><i class="fas fa-ban fa-lg"></i></a>
    </span>  
  {% else %}
    <span class="mx-3">
      <a href="/food/search/{{ search_term }}/{{ page_number + 1 }}">
        <i class="fas fa-step-forward fa-lg"></i>
      </a>
    </span>  
  {% endif %}

</div>

{% endblock %}
